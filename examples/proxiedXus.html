<html>
<head>
<!--
####
# Copyright (C) 2012, Bill Burdick
# License: ZLIB license
####
-->
<script src="/xus.js"></script>
<script>
  function prep() {
    if (window.MozWebSocket) window.WebSocket = window.MozWebSocket;
    xusServer = new Xus.Server();
    peer = Xus.createDirectPeer(xusServer)
    Xus.xusToProxy(xusServer, document.location.hash.substring(1));
    peer.listen('x', true, function (key, value){setX(value)});
  }
  function setX(value) {
    document.getElementById('x').value = value
  }
  function newX(value) {
    peer.set('x', value);
  }
</script>
</head>
<body onload="prep()">
Value of X: <input id="x" type="text" onchange="newX(this.value)"></input>
</body>
</html>
